<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <title>My Unity Game</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    html, body { margin:0; padding:0; width:100%; height:100%; background:#000; overflow:hidden; }
    #unity-canvas { width:100%; height:100%; display:block; }
    #unity-warning { color:white; font-family:Arial, sans-serif; text-align:center; margin-top:10vh; }
  </style>

  <!-- Optional: block mobile devices -->
  <script>
    if (/Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent)) {
      document.addEventListener("DOMContentLoaded", () => {
        document.body.innerHTML = "<div id='unity-warning'>‚ùå This game only works on desktop. Please open on a computer.</div>";
      });
      throw new Error("Mobile not supported");
    }
  </script>
</head>
<body>
  <canvas id="unity-canvas"></canvas>
  <div id="unity-loading-bar" style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:50%;height:20px;background:#555;">
    <div id="unity-progress-bar-full" style="width:0%;height:100%;background:#0f0;"></div>
  </div>

  <!-- Loader script -->
  <script src="Build/mygame.loader.js"></script>
  <script>
    // === EDIT THESE ===
    const RELEASE_BASE = "https://github.com/Baldhawk92/bh-pf/releases/tag/v1.0.0"; // Replace
    const DATA_FILE = "https://github.com/Baldhawk92/bh-pf/releases/download/v1.0.0/mygame.data"; // Your uploaded .data file name
    const WASM_FILE = "https://github.com/Baldhawk92/bh-pf/releases/download/v1.0.0/mygame.wasm"; // Your .wasm file (use Release if >25MB)
    const FRAMEWORK_FILE = "Build/mygame.framework.js"; // Usually <25MB, keep local

    const config = {
      dataUrl: `${RELEASE_BASE}/${DATA_FILE}`,
      frameworkUrl: FRAMEWORK_FILE,
      codeUrl: `${RELEASE_BASE}/${WASM_FILE}`, // or local Build/mygame.wasm if <25MB
      streamingAssetsUrl: "StreamingAssets",
      companyName: "DefaultCompany",
      productName: "My Game",
      productVersion: "1.0",
      showBanner: (msg, type) => {
        const banner = document.getElementById("unity-warning");
        const div = document.createElement("div");
        div.innerHTML = msg;
        div.style.background = type==='error' ? 'red' : (type==='warning'?'yellow':'transparent');
        div.style.padding = '10px';
        banner.appendChild(div);
      }
    };

    const canvas = document.getElementById("unity-canvas");

    createUnityInstance(canvas, config, (progress) => {
      document.getElementById("unity-progress-bar-full").style.width = 100*progress + "%";
    }).then((unityInstance) => {
      document.getElementById("unity-loading-bar").style.display = "none";
      document.body.onresize = () => unityInstance.ResizeCanvas();
    }).catch((err) => {
      alert(err);
      console.error(err);
    });
  </script>
</body>
</html>
